# Archived Tasks - January 2025

This file contains completed tasks that were archived from docs/task.md.
Tasks 1-50 are stored here to keep the active task tracker under 300 lines.

---

## Tasks 1-17

Previously archived (details not preserved).

---

## Tasks 18-29

### 18. Debug friend request "User not found" issue
- **Status**: COMPLETED
- **Type**: Bug
- **Location**: vibes/Services/FriendService.swift
- **Solution**: Issue found - Firestore index missing for username queries.

### 19. Fix Firestore index error for notifications query
- **Status**: COMPLETED
- **Type**: Bug
- **Solution**: Created composite index in Firebase Console.

### 20. Add unread notification count to notifications section header
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Added unreadCount computed property and red badge styling.

### 21. Remove username editing capability from profile
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Verified username is already read-only.

### 22. Fix profile display name not updating
- **Status**: COMPLETED
- **Type**: Bug
- **Solution**: Refactored ProfileView to use ProfileViewModel's @Published properties.

### 23. Hide email from friend detail view
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Removed email from FriendProfile model and FriendDetailView.

### 24. Add settings menu to all screens
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Created SettingsMenu.swift component.

### 25. Auto-save profile changes when switching tabs
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Added onDisappear modifier for auto-save.

### 26. Remove switch accounts button
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Removed button and deleted AccountSwitcherView.swift.

### 27. Change menu to popover style
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Replaced Menu with Button + popover.

### 28. Debug and fix app crash on launch
- **Status**: COMPLETED
- **Type**: Bug
- **Solution**: Fixed Firebase initialization race condition with lazy var.

### 29. Fix crash when exiting messaging screen
- **Status**: COMPLETED
- **Type**: Bug
- **Solution**: Removed unsafe nonisolated deinit pattern.

---

## Tasks 30-50

### 30. Improve messaging UX with swipe-to-reveal timestamps
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Features moved to backlog after implementation issues.

### 31. Integrate Spotify API to access user playlists
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Implemented OAuth 2.0 flow, Keychain token storage, and API methods.

### 32. Implement Spotify song search in Search tab
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Created SearchViewModel and SearchView with debounced search.

### 33. Implement AVPlayer song preview in search results
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Created AudioPlayerService, iTunesService, and SoundWaveBar animation.

### 34. Send songs from search to friends with playable previews
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Added send button, FriendPickerView, and connected to AudioPlayerService.

### 35. Send messages with Return/Enter key
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Added onSubmit and submitLabel(.send) to TextField.

### 36. Implement vibestreaks tracking
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Complete vibestreak system with daily interaction tracking and milestones.

### 37. Implement group chats
- **Status**: DEFERRED
- **Type**: Feature
- **Solution**: Moved to backlog due to Firestore index issues.

### 38. Add songs to Spotify playlist
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: PlaylistPickerView with addTrackToPlaylist API integration.

### 39. Phase 1: Tab Structure & Profile Foundation
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Added Discover tab, listening stats to Profile, reordered tabs.

### 40. Phase 2: Discover Tab (New Home)
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: New releases, recommendations, friend activity, trending songs.

### 41. Phase 3: Search Enhancements
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Recent searches, type filters, improved results UI.

### 42. Album/Playlist/Artist Detail Views
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Created detail views with playable track lists.

### 43. Fix preview playback using iTunes
- **Status**: COMPLETED
- **Type**: Bug
- **Solution**: Updated detail views to use iTunes preview URLs.

### 44. Phase 4: Chats Enhancements
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Visual refresh, song reactions, playlist sharing.

### 45. Phase 5: Polish & Gamification
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Vibestreak rewards, music personality card, achievements, onboarding.

### 46. Forgot Password Flow
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: ForgotPasswordView with Firebase sendPasswordReset.

### 47. Profile Picture Upload
- **Status**: REMOVED
- **Type**: Feature
- **Solution**: Feature removed - user does not have Firebase Storage.

### 48. Online Status Indicators
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: Added presence fields, updatePresence methods, green dot indicator.

### 49. Delete Account
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: DeleteAccountView with comprehensive data deletion.

### 50. AI-Powered Recommendations & Playlist Bridging
- **Status**: COMPLETED
- **Type**: Feature
- **Solution**: OpenAI GPT-4 integration with themed playlists and friend blends.

---
